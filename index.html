
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QUIRKI — Language Summary</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css"
    />

    <style>
      :root {
        color-scheme: dark;
        --bg: #0b0f14;
        --panel: rgba(255, 255, 255, 0.04);
        --panel-border: rgba(255, 255, 255, 0.08);
        --text: rgba(255, 255, 255, 0.88);
        --muted: rgba(255, 255, 255, 0.6);
        --accent: #7c3aed;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica,
          Arial;
        background: radial-gradient(1200px 700px at 30% -10%, #1b2a44 0%, transparent 55%),
          radial-gradient(900px 600px at 90% 0%, #2b1747 0%, transparent 50%),
          var(--bg);
        color: var(--text);
      }
      .wrap {
        max-width: 980px;
        margin: 0 auto;
        padding: 40px 18px 56px;
      }
      header {
        margin-bottom: 28px;
      }
      h1 {
        margin: 0 0 8px;
        font-size: clamp(30px, 4vw, 42px);
        letter-spacing: -0.02em;
      }
      .subtitle {
        color: var(--muted);
        font-size: 15px;
      }
      .card {
        background: var(--panel);
        border: 1px solid var(--panel-border);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 14px 40px rgba(0, 0, 0, 0.35);
        margin-bottom: 18px;
      }
      .toolbar {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px 16px;
        border-bottom: 1px solid var(--panel-border);
        background: rgba(0, 0, 0, 0.25);
      }
      .dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: var(--accent);
        box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.15);
      }
      .section-title {
        font-size: 14px;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.75);
      }
      .content {
        padding: 18px;
      }
      h2 {
        margin: 0 0 8px;
        font-size: 20px;
      }
      p {
        margin: 0 0 10px;
        color: var(--muted);
      }
      ul {
        margin: 0 0 14px 18px;
      }
      li {
        margin-bottom: 6px;
      }
      pre {
        margin: 0;
      }
      pre[class*="language-"] {
        background: transparent !important;
      }
      code[class*="language-"] {
        font-size: 13px;
        line-height: 1.55;
      }
    </style>
  </head>

  <body>
    <div class="wrap">
      <header>
        <h1>QUIRKI — Language Summary</h1>
        <p class="subtitle">
          A single-page reference for QUIRKI’s syntax and design rules.
        </p>
      </header>

      <!-- CORE PHILOSOPHY -->
      <section class="card">
        <div class="toolbar">
          <span class="dot"></span>
          <span class="section-title">Core Philosophy</span>
        </div>
        <div class="content">
          <ul>
            <li>Memory-safe, data-oriented language</li>
            <li>No classes</li>
            <li>No return values — functions mutate data</li>
            <li>Variable names define types</li>
            <li>Control flow is only pattern matching</li>
            <li>Everything is data</li>
            <li>Enums are tagged unions</li>
            <li>Logic is explicit and exhaustively handled</li>
          </ul>
        </div>
      </section>

      <!-- FUNCTIONS -->
      <section class="card">
        <div class="toolbar">
          <span class="dot"></span>
          <span class="section-title">Functions</span>
        </div>
        <div class="content">
          <h2>Mutating calls</h2>
          <ul>
            <li>Functions never return values</li>
            <li>All effects happen through mutation</li>
            <li>Parameters are readonly by default</li>
            <li><code>take</code> explicitly transfers ownership</li>
          </ul>

          <pre><code class="language-quirki">
hero TakeDamage(i_amount)
hero Move(f3_dir)

hero
TakeDamage(i_amount)
Move(f3_dir)

hero GrabItem(take item)
          </code></pre>
        </div>
      </section>

      <!-- VARIABLES -->
      <section class="card">
        <div class="toolbar">
          <span class="dot"></span>
          <span class="section-title">Variables & Naming</span>
        </div>
        <div class="content">
          <h2>Name-driven types</h2>
          <ul>
            <li>Type is inferred from the variable name</li>
            <li>No explicit type annotations</li>
            <li>Struct fields are declared by identifier only</li>
          </ul>

          <pre><code class="language-quirki">
Struct Hero:
   entity
   weapon
   i_health
          </code></pre>
        </div>
      </section>

      <!-- ENUMS -->
      <section class="card">
        <div class="toolbar">
          <span class="dot"></span>
          <span class="section-title">Enums</span>
        </div>
        <div class="content">
          <h2>Tagged unions</h2>
          <ul>
            <li>Enum cases may carry data</li>
            <li>No separate optional or union types</li>
          </ul>

          <pre><code class="language-quirki">
=== <T>? ===
    some(T)
    none

Enum AIState
    Idle
    Patrol(f3_dir)
    Attack(entity)
    Flee(f3_dir, f_speed)
          </code></pre>
        </div>
      </section>

      <!-- CONTROL FLOW -->
      <section class="card">
        <div class="toolbar">
          <span class="dot"></span>
          <span class="section-title">Control Flow</span>
        </div>
        <div class="content">
          <h2>Pattern matching</h2>
          <ul>
            <li><code>?</code> is the only control-flow construct</li>
            <li>Matches on data, not conditions</li>
            <li>Exhaustive by default</li>
          </ul>

          <pre><code class="language-quirki">
? hero.ai_state
| Idle: hero Rest()
| Patrol(dir): hero Move(dir)

? hero.target
| some(entity): hero Shoot(entity)
| none: hero Search()
          </code></pre>
        </div>
      </section>

      <!-- ANONYMOUS MATCH -->
      <section class="card">
        <div class="toolbar">
          <span class="dot"></span>
          <span class="section-title">Anonymous Match</span>
        </div>
        <div class="content">
          <h2>Temporary match values</h2>
          <ul>
            <li><code>#</code> introduces an unnamed match value</li>
            <li>Useful when the value does not need a binding</li>
          </ul>

          <pre><code class="language-quirki">
?: # GetTotalAmmo(hero)
| # > 0: hero Shoot()
| else: hero Reload()

? has_ammo CheckAmmo(hero)
    hero Shoot()
| else:
    hero Reload()
          </code></pre>
        </div>
      </section>

      <!-- ERRORS -->
      <section class="card">
        <div class="toolbar">
          <span class="dot"></span>
          <span class="section-title">Errors</span>
        </div>
        <div class="content">
          <h2>Errors are data</h2>
          <ul>
            <li>No exceptions</li>
            <li>No Result or error channel</li>
            <li>Errors are domain-specific enums</li>
          </ul>

          <pre><code class="language-quirki">
=== LoadAsset ===
    success(asset)
    error(string)

? result LoadTexture(path)
| success(asset): loadedAssets(take asset)
| error(msg): log Write(msg)
          </code></pre>
        </div>
      </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
      Prism.languages.quirki = {
        comment: /\/\/[^\n]*/,
        punctuation: /[()?:|.,]/,
        operator: /[<>]=?|==|!=|=|#|:/,
        keyword: /\b(?:Struct|Enum|else|take|some|none|success|error)\b/,
        "class-name": /\b[A-Z][A-Za-z0-9_]*\b/,
        builtin: /\b(?:i|f|f2|f3|b|s)_[A-Za-z0-9_]+\b/,
        number: /\b\d+(?:\.\d+)?\b/,
        function: [
          /\b[A-Za-z_][A-Za-z0-9_]*(?=\s*\()/,
          /(?<=\.)[A-Za-z_][A-Za-z0-9_]*/,
        ],
      };
      Prism.highlightAll();
    </script>
  </body>
</html>
