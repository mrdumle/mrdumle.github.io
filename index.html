<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QUIRKI — Language Summary</title>

    <!-- Prism (theme) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css"
    />

    <style>
      :root {
        color-scheme: dark;
        --bg: #0b0f14;
        --panel: rgba(255, 255, 255, 0.04);
        --panel-border: rgba(255, 255, 255, 0.08);
        --text: rgba(255, 255, 255, 0.88);
        --muted: rgba(255, 255, 255, 0.6);
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial;
        background: radial-gradient(1200px 700px at 30% -10%, #1b2a44 0%, transparent 55%),
          radial-gradient(900px 600px at 90% 0%, #2b1747 0%, transparent 50%),
          var(--bg);
        color: var(--text);
      }
      .wrap {
        max-width: 980px;
        margin: 0 auto;
        padding: 40px 18px 56px;
      }
      header {
        margin-bottom: 24px;
      }
      h1 {
        margin: 0 0 8px;
        font-size: clamp(28px, 4vw, 40px);
        letter-spacing: -0.02em;
        line-height: 1.1;
      }
      .subtitle {
        margin: 0;
        color: var(--muted);
        font-size: 14px;
      }
      .card {
        background: var(--panel);
        border: 1px solid var(--panel-border);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 14px 40px rgba(0, 0, 0, 0.35);
        margin-bottom: 18px;
      }
      .toolbar {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px 14px;
        border-bottom: 1px solid var(--panel-border);
        background: rgba(0, 0, 0, 0.2);
      }
      .pill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-size: 12px;
        color: rgba(255, 255, 255, 0.75);
      }
      .dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: #7c3aed;
        box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.15);
      }
      .content {
        padding: 16px 18px 18px;
      }
      h2 {
        margin: 0 0 6px;
        font-size: 18px;
      }
      pre {
        margin: 0;
        overflow: auto;
      }
      pre[class*="language-"] {
        background: transparent !important;
      }
      code[class*="language-"] {
        font-size: 13px;
        line-height: 1.55;
      }
      footer {
        margin-top: 18px;
        color: var(--muted);
        font-size: 12px;
      }
      .hint kbd {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 11px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid var(--panel-border);
        padding: 2px 6px;
        border-radius: 8px;
      }
    </style>
  </head>

  <body>
    <div class="wrap">
      <header>
        <h1>QUIRKI — Language Summary</h1>
        <p class="subtitle">
          A concise, single-page reference for QUIRKI’s core syntax and philosophy.
        </p>
      </header>

      <!-- CORE PHILOSOPHY -->
      <section class="card">
        <div class="toolbar">
          <div class="pill"><span class="dot"></span><strong>Core Philosophy</strong></div>
        </div>
        <div class="content">
          <pre><code class="language-quirki">
// Memory-safe, data-oriented language
// No classes.
// No return values — functions mutate data
// Variable names set types.
// Control flow is ONLY pattern matching
// Everything is data; no special control types
// Enums ARE tagged unions
// Explicit, readable, exhaustively handled logic
          </code></pre>
        </div>
      </section>

      <!-- FUNCTIONS -->
      <section class="card">
        <div class="toolbar">
          <div class="pill"><span class="dot"></span><strong>Functions</strong></div>
        </div>
        <div class="content">
          <pre><code class="language-quirki">
// Functions do not return values.
// They always mutate data.

hero TakeDamage(i_amount)
hero Move(f3_dir)

// Alternative multiline form
hero
TakeDamage(i_amount)
Move(f3_dir)

// Parameters are readonly by default
// Use `take` to claim ownership

hero GrabItem(take item)
          </code></pre>
        </div>
      </section>

      <!-- VARIABLES -->
      <section class="card">
        <div class="toolbar">
          <div class="pill"><span class="dot"></span><strong>Variables & Naming</strong></div>
        </div>
        <div class="content">
          <pre><code class="language-quirki">
// Variable names define types

Struct Hero:
   entity
   weapon
   i_health
          </code></pre>
        </div>
      </section>

      <!-- ENUMS -->
      <section class="card">
        <div class="toolbar">
          <div class="pill"><span class="dot"></span><strong>Enums</strong></div>
        </div>
        <div class="content">
          <pre><code class="language-quirki">
=== &lt;T&gt;? ===
    some(T)
    none

Enum AIState
    Idle
    Patrol(f3_dir)
    Attack(entity)
    Flee(f3_dir, f_speed)

Enum FireWeapon
    success
    no_ammo
    jammed
    overheated
          </code></pre>
        </div>
      </section>

      <!-- CONTROL FLOW -->
      <section class="card">
        <div class="toolbar">
          <div class="pill"><span class="dot"></span><strong>Control Flow</strong></div>
        </div>
        <div class="content">
          <pre><code class="language-quirki">
// ? is the only control-flow construct

? hero.ai_state
| Idle: hero Rest()
| Patrol(dir): hero Move(dir)

// Optional unwrapping

? hero.target
| some(entity): hero Shoot(entity)
| none: hero Search()
          </code></pre>
        </div>
      </section>

      <!-- ANONYMOUS MATCH -->
      <section class="card">
        <div class="toolbar">
          <div class="pill"><span class="dot"></span><strong>Anonymous Match (#)</strong></div>
        </div>
        <div class="content">
          <pre><code class="language-quirki">
?: # GetTotalAmmo(hero)
| # > 0: hero Shoot()
| else: hero Reload()

? has_ammo CheckAmmo(hero)
    hero Shoot()
| else:
    hero Reload()
          </code></pre>
        </div>
      </section>

      <!-- ERRORS -->
      <section class="card">
        <div class="toolbar">
          <div class="pill"><span class="dot"></span><strong>Errors</strong></div>
        </div>
        <div class="content">
          <pre><code class="language-quirki">
=== LoadAsset ===
    success(asset)
    error(string)

? result LoadTexture(path)
| success(asset): loadedAssets(take asset)
| error(msg): log Write(msg)
          </code></pre>
        </div>
      </section>

      <footer class="hint">
        Tip: press <kbd>Ctrl</kbd>+<kbd>F</kbd> / <kbd>⌘</kbd>+<kbd>F</kbd> to search this page.
      </footer>
    </div>

    <!-- Prism core -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Custom Prism language -->
    <script>
      Prism.languages.quirki = {
        comment: /\/\/[^\n]*/,
        separator: {
          pattern: /^(?:={3,}.*={3,}|-{3,}|={5,})$/m,
          alias: "important",
        },
        punctuation: /[()?:|.,]/,
        operator: /[<>]=?|==|!=|=|#|:/,
        keyword: /\b(?:Struct|Enum|else|take|some|none|success|error)\b/,
        "class-name": /\b[A-Z][A-Za-z0-9_]*\b/,
        builtin: /\b(?:i|f|f2|f3|b|s)_[A-Za-z0-9_]+\b/,
        number: /\b\d+(?:\.\d+)?\b/,
        function: [
          /\b[A-Za-z_][A-Za-z0-9_]*(?=\s*\()/,
          /(?<=\.)[A-Za-z_][A-Za-z0-9_]*/,
        ],
      };
      Prism.highlightAll();
    </script>
  </body>
</html>
